<div mat-dialog-title>
  <h2>User Form</h2>
</div>
<form [formGroup]="userForm" (ngSubmit)="onFormSubmit()" #formDirective="ngForm">
  <div mat-dialog-content class="content">
    <div class="row">
      <mat-form-field appearance="outline">
        <mat-label>First name</mat-label>
        <input 
          matInput 
          type="text" 
          placeholder="Enter first name"
          formControlName="firstName"
          required
          maxlength="100"
        />
        <mat-error *ngIf="userForm.get('firstName')?.hasError('required')">
          First name is required
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Last name</mat-label>
        <input 
          matInput 
          type="text" 
          placeholder="Enter last name"
          formControlName="lastName"
          required
          maxlength="100"
        />
        <mat-error *ngIf="userForm.get('lastName')?.hasError('required')">
          Last name is required
        </mat-error>
      </mat-form-field>
    </div>

    <div class="row">
      <mat-form-field appearance="outline">
        <mat-label>Email</mat-label>
        <input 
          matInput 
          type="email" 
          placeholder="Enter email"
          formControlName="email"
          required
          maxlength="100"
        />
        <mat-error *ngIf="userForm.get('email')?.hasError('required')">
          Email is required
        </mat-error>
        <mat-error *ngIf="userForm.get('email')?.hasError('email')">
          Please enter a valid email
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Created at</mat-label>
        <input 
          matInput 
          [matDatepicker]="picker"
          formControlName="createdAt"
          readonly
          maxlength="1000"
        >
        <mat-hint>MM/DD/YYYY</mat-hint>
        <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
        <mat-error *ngIf="userForm.get('createdAt')?.hasError('required')">
          Date is required
        </mat-error>
      </mat-form-field>
    </div>

    <div class="row">
      <mat-form-field appearance="outline">
        <mat-label>Description</mat-label>
        <textarea 
          matInput 
          placeholder="Enter description"
          formControlName="description"
        ></textarea>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Tags</mat-label>
        <input 
          matInput 
          type="text" 
          placeholder="Enter tags"
          formControlName="tags"
          
        />
      </mat-form-field>
    </div>
  </div>
  
  <div mat-dialog-actions class="action">
    <button mat-raised-button color="primary" type="submit">{{data ? 'Edit' : 'Save'}}</button>
    <button mat-raised-button type="button" (click)="onClose()">Close</button>
  </div>
</form>